# use system sqlite3
Index: redeclipse-1.5.8/src/Makefile
===================================================================
--- redeclipse-1.5.8.orig/src/Makefile	2017-01-16 19:08:26.703156338 +0100
+++ redeclipse-1.5.8/src/Makefile	2017-01-16 19:10:25.209574623 +0100
@@ -83,7 +83,7 @@
 endif
 endif
 CLIENT_INCLUDES= $(INCLUDES) -I/usr/X11R6/include `sdl2-config --cflags`
-CLIENT_LIBS= -Lenet -lenet -L/usr/X11R6/lib -lX11 `sdl2-config --libs` -lSDL2_image -lSDL2_mixer -lz -lGL
+CLIENT_LIBS= -Lenet -lenet -L/usr/X11R6/lib -lX11 `sdl2-config --libs` -lSDL2_image -lSDL2_mixer -lz -lGL -lsqlite3
 endif
 ifneq (,$(findstring linux,$(PLATFORM)))
 CLIENT_LIBS+= -lrt
@@ -99,7 +99,6 @@
 	shared/stream.o \
 	shared/tools.o \
 	shared/zip.o \
-	support/sqlite3.o \
 	engine/bih.o \
 	engine/blend.o \
 	engine/blob.o \
@@ -161,7 +160,7 @@
 SERVER_LIBS= -mwindows $(STD_LIBS) -L$(WINDLL) -L$(WINLIB) -lzlib1 -lenet -lws2_32 -lwinmm
 else
 SERVER_INCLUDES= -DSTANDALONE $(INCLUDES)
-SERVER_LIBS= -Lenet -lenet -lz
+SERVER_LIBS= -Lenet -lenet -lz -lsqlite3
 endif
 SERVER_OBJS= \
 	shared/crypto-standalone.o \
@@ -169,7 +168,6 @@
 	shared/stream-standalone.o \
 	shared/tools-standalone.o \
 	shared/zip-standalone.o \
-	support/sqlite3.o \
 	engine/command-standalone.o \
 	engine/irc-standalone.o \
 	engine/master-standalone.o \
@@ -205,9 +203,6 @@
 %-standalone.o: %.cpp
 	$(CXX) $(CXXFLAGS) -c -o $@ $(subst -standalone.o,.cpp,$@)
 
-support/sqlite3.o: support/sqlite3.c
-	$(CC) -DSQLITE_THREADSAFE=0 -DSQLITE_OMIT_LOAD_EXTENSION -c -o support/sqlite3.o support/sqlite3.c
-
 $(CLIENT_OBJS): CXXFLAGS += $(CLIENT_INCLUDES)
 $(filter shared/%,$(CLIENT_OBJS)): $(filter shared/%,$(CLIENT_PCH))
 $(filter engine/%,$(CLIENT_OBJS)): $(filter engine/%,$(CLIENT_PCH))
@@ -389,7 +384,7 @@
 engine/master.o: shared/glexts.h shared/glemu.h shared/iengine.h
 engine/master.o: shared/igame.h engine/irc.h engine/sound.h engine/world.h
 engine/master.o: engine/octa.h engine/lightmap.h engine/bih.h
-engine/master.o: engine/texture.h engine/model.h support/sqlite3.h
+engine/master.o: engine/texture.h
 engine/material.o: engine/engine.h engine/version.h shared/cube.h
 engine/material.o: shared/tools.h shared/command.h shared/geom.h
 engine/material.o: shared/ents.h shared/glexts.h shared/glemu.h
@@ -693,7 +688,6 @@
 engine/master-standalone.o: engine/engine.h engine/version.h shared/cube.h
 engine/master-standalone.o: shared/tools.h shared/command.h shared/geom.h
 engine/master-standalone.o: shared/ents.h shared/iengine.h shared/igame.h
-engine/master-standalone.o: engine/irc.h engine/sound.h support/sqlite3.h
 engine/server-standalone.o: engine/engine.h engine/version.h shared/cube.h
 engine/server-standalone.o: shared/tools.h shared/command.h shared/geom.h
 engine/server-standalone.o: shared/ents.h shared/iengine.h shared/igame.h
